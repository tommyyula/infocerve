---
inclusion: manual
---

# 🔍 事后反思规范

> **目的**：代码写完后全局检查，发现问题立即修复

---

## ✅ 反思流程（4步）

### 1. 全局检查
```bash
# 使用 getDiagnostics 检查所有修改的文件
getDiagnostics(paths=["修改的文件列表"])

# 使用 MCP 数据库工具验证数据变更（如有）
# 识别特征：*mysql_query、*db*
```

### 2. 分析问题
- 问题类型：语法/类型/引用错误？
- 问题原因：违反了哪条规范？
- 问题范围：影响多少文件？

### 3. 修复并改进
- 立即修复所有错误
- 举一反三：`grepSearch` 搜索相同问题
- 更新规范文档（如果发现新问题）

### 4. 与 task-manager 配合
- 如果发现需要追加任务 → `split_tasks(updateMode="append")`
- 如果发现设计问题 → 更新 Kiro spec 的 design.md
- 如果任务需要调整 → `update_task`

---

## 📋 检查清单

- [ ] 执行 getDiagnostics 检查
- [ ] 分析问题原因
- [ ] 修复所有错误
- [ ] 举一反三检查
- [ ] 是否需要追加/调整任务？

---

*最后更新：2025-12-23*
