<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDM Item 领域 - 前端原型 Demo</title>
    <style>
        :root {
            --primary-color: #1890ff;
            --success-color: #52c41a;
            --warning-color: #fa8c16;
            --error-color: #ff4d4f;
            --border-color: #d9d9d9;
            --bg-color: #f0f2f5;
            --text-color: #333;
            --text-secondary: #666;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-color); color: var(--text-color); }
        .layout { display: flex; min-height: 100vh; }
        .sidebar { width: 220px; background: #001529; color: #fff; padding: 20px 0; }
        .sidebar h2 { padding: 0 20px 20px; font-size: 18px; border-bottom: 1px solid #1890ff; margin-bottom: 10px; }
        .sidebar ul { list-style: none; }
        .sidebar li { padding: 12px 20px; cursor: pointer; transition: background 0.3s; }
        .sidebar li:hover, .sidebar li.active { background: #1890ff; }
        .main { flex: 1; padding: 20px; }
        .header { background: #fff; padding: 15px 20px; margin-bottom: 20px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; }
        .breadcrumb { color: var(--text-secondary); font-size: 14px; }
        .content { background: #fff; padding: 20px; border-radius: 4px; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .page-header h3 { font-size: 18px; }
        .btn { padding: 8px 16px; border: 1px solid var(--border-color); background: #fff; border-radius: 4px; cursor: pointer; margin-left: 8px; }
        .btn:hover { border-color: var(--primary-color); color: var(--primary-color); }
        .btn-primary { background: var(--primary-color); color: #fff; border-color: var(--primary-color); }
        .btn-primary:hover { background: #40a9ff; }
        .btn-danger { background: var(--error-color); color: #fff; border-color: var(--error-color); }
        .btn-sm { padding: 4px 8px; font-size: 12px; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .search-input { padding: 8px 12px; border: 1px solid var(--border-color); border-radius: 4px; width: 300px; }
        .filter-select { padding: 8px 12px; border: 1px solid var(--border-color); border-radius: 4px; }
        .data-table { width: 100%; border-collapse: collapse; }
        .data-table th, .data-table td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color); }
        .data-table th { background: #fafafa; font-weight: 500; }
        .data-table tr:hover { background: #f5f5f5; }
        .tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 12px; }
        .tag-blue { background: #e6f7ff; color: #1890ff; }
        .tag-green { background: #f6ffed; color: #52c41a; }
        .tag-orange { background: #fff7e6; color: #fa8c16; }
        .tag-red { background: #fff1f0; color: #ff4d4f; }
        .tag-gray { background: #f5f5f5; color: #999; }
        .pagination { margin-top: 20px; text-align: right; color: var(--text-secondary); }
</style>
</head>
<body>
    <div class="layout">
        <nav class="sidebar">
            <h2>MDM 主数据管理</h2>
            <ul id="menu-list"></ul>
        </nav>
        <main class="main">
            <div class="header">
                <span class="breadcrumb" id="breadcrumb">主数据管理</span>
            </div>
            <div class="content" id="page-container"></div>
        </main>
    </div>
</body>
</html>

<style>
        .detail-section { margin-bottom: 24px; }
        .detail-section h4 { font-size: 16px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid var(--border-color); }
        .detail-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .detail-item label { display: block; color: var(--text-secondary); font-size: 13px; margin-bottom: 4px; }
        .detail-item span { font-size: 14px; }
        .tabs { display: flex; border-bottom: 1px solid var(--border-color); margin: 20px 0; }
        .tab { padding: 12px 20px; cursor: pointer; border-bottom: 2px solid transparent; }
        .tab:hover { color: var(--primary-color); }
        .tab.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .tab-content { display: none; padding-top: 16px; }
        .tab-content.active { display: block; }
        .form { max-width: 900px; }
        .form-section { margin-bottom: 24px; border: 1px solid var(--border-color); border-radius: 4px; padding: 16px; }
        .form-section h4 { font-size: 16px; margin-bottom: 16px; color: var(--primary-color); }
        .form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .form-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .form-item { margin-bottom: 16px; }
        .form-item label { display: block; margin-bottom: 8px; font-size: 14px; }
        .form-item input, .form-item select, .form-item textarea { width: 100%; padding: 8px 12px; border: 1px solid var(--border-color); border-radius: 4px; }
        .form-item input[type="checkbox"] { width: auto; }
        .form-item textarea { resize: vertical; min-height: 60px; }
        .required { color: var(--error-color); }
        .form-actions { margin-top: 24px; padding-top: 16px; border-top: 1px solid var(--border-color); }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; }
        .modal.show { display: flex; justify-content: center; align-items: center; }
        .modal-content { background: #fff; border-radius: 4px; width: 600px; max-width: 90%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-bottom: 1px solid var(--border-color); }
        .modal-header h4 { margin: 0; }
        .modal-header .close { font-size: 24px; cursor: pointer; color: #999; }
        .modal-body { padding: 20px; }
        .modal-footer { padding: 16px 20px; border-top: 1px solid var(--border-color); text-align: right; }
        .info-box { background: #e6f7ff; border: 1px solid #91d5ff; padding: 12px 16px; border-radius: 4px; margin-bottom: 20px; }
        .warning-box { background: #fff7e6; border: 1px solid #ffd591; padding: 12px 16px; border-radius: 4px; margin-bottom: 20px; }
        .switch-container { display: flex; align-items: center; gap: 8px; }
        .switch { position: relative; width: 44px; height: 22px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .3s; border-radius: 22px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 2px; bottom: 2px; background-color: white; transition: .3s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(22px); }
        .property-list { border: 1px solid var(--border-color); border-radius: 4px; margin-top: 12px; }
        .property-item { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid var(--border-color); }
        .property-item:last-child { border-bottom: none; }
        .property-item .name { width: 150px; font-weight: 500; }
        .property-item .type { width: 80px; color: var(--text-secondary); }
        .property-item .value { flex: 1; }
        .property-item .value input, .property-item .value select { width: 100%; }
        .property-item .actions { width: 60px; text-align: right; }
        .staged-list { margin-top: 16px; }
        .staged-item { display: flex; align-items: center; padding: 8px 12px; background: #fafafa; border-radius: 4px; margin-bottom: 8px; }
        .staged-item span { flex: 1; }
</style>

<script>
// Menu configuration - 3 menus as per new requirements
const menuConfig = [
    { id: 'item', name: '商品管理', children: [
        { id: 'item-list', name: '商品列表' },
        { id: 'item-import', name: '商品导入' }
    ]},
    { id: 'industry', name: '行业管理', children: [
        { id: 'industry-list', name: '行业列表' }
    ]},
    { id: 'hazard', name: '危险品管理', children: [
        { id: 'hazard-list', name: '危险品列表' }
    ]},
    { id: 'carrier', name: '承运商管理', children: [
        { id: 'carrier-list', name: '承运商列表' }
    ]},
    { id: 'address', name: '地址管理', children: [
        { id: 'address-list', name: '地址列表' }
    ]}
];

// Page templates
const pages = {
    'industry-list': {
        breadcrumb: '主数据管理 / 行业管理 / 行业列表',
        content: `
            <div class="page-header">
                <h3>行业列表</h3>
                <button class="btn btn-primary" onclick="showPage('industry-create')">+ 创建行业</button>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索行业代码 / 名称" class="search-input">
                <button class="btn">搜索</button>
            </div>
            <table class="data-table">
                <thead><tr><th>行业代码</th><th>行业名称</th><th>描述</th><th>属性模板数</th><th>关联商品数</th><th>操作</th></tr></thead>
                <tbody>
                    <tr><td>FOOD</td><td>食品行业</td><td>食品类商品</td><td>5</td><td>120</td><td><a href="#" onclick="showPage('industry-detail')">查看</a> | <a href="#" onclick="showPage('industry-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>ELEC</td><td>电子行业</td><td>电子产品</td><td>8</td><td>85</td><td><a href="#" onclick="showPage('industry-detail')">查看</a> | <a href="#" onclick="showPage('industry-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>CHEM</td><td>化工行业</td><td>化工产品</td><td>6</td><td>45</td><td><a href="#" onclick="showPage('industry-detail')">查看</a> | <a href="#" onclick="showPage('industry-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                </tbody>
            </table>
            <div class="pagination">共 3 条 | 第 1 页</div>
        `
    },
    'industry-create': {
        breadcrumb: '主数据管理 / 行业管理 / 创建行业',
        content: `
            <div class="page-header"><h3>创建行业</h3></div>
            <form class="form">
                <div class="form-section">
                    <h4>基本信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>行业代码 <span class="required">*</span></label><input type="text" placeholder="请输入行业代码，如 FOOD"></div>
                        <div class="form-item"><label>行业名称 <span class="required">*</span></label><input type="text" placeholder="请输入行业名称"></div>
                        <div class="form-item"><label>描述</label><textarea placeholder="请输入行业描述"></textarea></div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>属性模板配置</h4>
                    <div class="info-box">配置该行业的自定义属性字段，商品选择此行业时将自动加载这些属性</div>
                    <button type="button" class="btn btn-primary btn-sm" onclick="showModal('add-template-modal')">+ 添加属性模板</button>
                    <div class="staged-list" id="template-list">
                        <div class="staged-item"><span>保质期 (NUMBER, 必填, 单位: 天)</span><button class="btn btn-sm" onclick="this.parentElement.remove()">删除</button></div>
                        <div class="staged-item"><span>产地 (TEXT, 非必填)</span><button class="btn btn-sm" onclick="this.parentElement.remove()">删除</button></div>
                        <div class="staged-item"><span>等级 (SELECT, 必填, 选项: A/B/C)</span><button class="btn btn-sm" onclick="this.parentElement.remove()">删除</button></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('industry-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('industry-list')">取消</button>
                </div>
            </form>
            <div id="add-template-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header"><h4>添加属性模板</h4><span class="close" onclick="hideModal('add-template-modal')">x</span></div>
                    <div class="modal-body">
                        <div class="form-item"><label>属性名称 <span class="required">*</span></label><input type="text" placeholder="请输入属性名称"></div>
                        <div class="form-item"><label>属性类型 <span class="required">*</span></label><select id="template-type" onchange="toggleTemplateOptions()"><option value="TEXT">TEXT - 文本</option><option value="NUMBER">NUMBER - 数字</option><option value="DATE">DATE - 日期</option><option value="SELECT">SELECT - 下拉选择</option></select></div>
                        <div class="form-item" id="template-options-container" style="display:none"><label>选项列表 <span class="required">*</span></label><input type="text" placeholder="多个选项用逗号分隔，如: A,B,C"></div>
                        <div class="form-item" id="template-uom-container" style="display:none"><label>单位</label><input type="text" placeholder="如: kg, cm, 天"></div>
                        <div class="form-item"><label><input type="checkbox"> 是否必填</label></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" onclick="hideModal('add-template-modal')">确定</button><button class="btn" onclick="hideModal('add-template-modal')">取消</button></div>
                </div>
            </div>
        `
    },

    'industry-detail': {
        breadcrumb: '主数据管理 / 行业管理 / 行业详情',
        content: `
            <div class="page-header">
                <h3>行业详情 - 食品行业</h3>
                <div><button class="btn" onclick="showPage('industry-edit')">编辑</button> <button class="btn btn-danger">删除</button></div>
            </div>
            <div class="detail-section">
                <h4>基本信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>行业代码</label><span>FOOD</span></div>
                    <div class="detail-item"><label>行业名称</label><span>食品行业</span></div>
                    <div class="detail-item"><label>描述</label><span>食品类商品</span></div>
                    <div class="detail-item"><label>关联商品数</label><span>120</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>属性模板列表</h4>
                <table class="data-table">
                    <thead><tr><th>属性名称</th><th>类型</th><th>选项/单位</th><th>必填</th></tr></thead>
                    <tbody>
                        <tr><td>保质期</td><td>NUMBER</td><td>天</td><td><span class="tag tag-green">是</span></td></tr>
                        <tr><td>产地</td><td>TEXT</td><td>-</td><td><span class="tag tag-gray">否</span></td></tr>
                        <tr><td>等级</td><td>SELECT</td><td>A, B, C</td><td><span class="tag tag-green">是</span></td></tr>
                        <tr><td>生产日期</td><td>DATE</td><td>-</td><td><span class="tag tag-green">是</span></td></tr>
                        <tr><td>储存温度</td><td>NUMBER</td><td>摄氏度</td><td><span class="tag tag-gray">否</span></td></tr>
                    </tbody>
                </table>
            </div>
        `
    },
    'hazard-list': {
        breadcrumb: '主数据管理 / 危险品管理 / 危险品列表',
        content: `
            <div class="page-header">
                <h3>危险品定义列表</h3>
                <button class="btn btn-primary" onclick="showPage('hazard-create')">+ 创建危险品</button>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索危险品代码 / 名称" class="search-input">
                <input type="text" placeholder="危险品分类" class="search-input" style="width:150px">
                <button class="btn">搜索</button>
            </div>
            <table class="data-table">
                <thead><tr><th>危险品代码</th><th>危险品名称</th><th>运输名称</th><th>分类</th><th>包装组</th><th>关联商品数</th><th>操作</th></tr></thead>
                <tbody>
                    <tr><td>UN1203</td><td>汽油</td><td>GASOLINE</td><td>3</td><td>II</td><td>15</td><td><a href="#" onclick="showPage('hazard-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>UN1263</td><td>油漆</td><td>PAINT</td><td>3</td><td>II</td><td>8</td><td><a href="#" onclick="showPage('hazard-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>UN2794</td><td>蓄电池</td><td>BATTERIES, WET</td><td>8</td><td>III</td><td>22</td><td><a href="#" onclick="showPage('hazard-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>UN1950</td><td>气雾剂</td><td>AEROSOLS</td><td>2</td><td>-</td><td>35</td><td><a href="#" onclick="showPage('hazard-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                </tbody>
            </table>
            <div class="pagination">共 4 条 | 第 1 页</div>
        `
    },
    'hazard-create': {
        breadcrumb: '主数据管理 / 危险品管理 / 创建危险品',
        content: `
            <div class="page-header"><h3>创建危险品定义</h3></div>
            <form class="form">
                <div class="form-section">
                    <h4>危险品信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>危险品代码 <span class="required">*</span></label><input type="text" placeholder="如 UN1203"></div>
                        <div class="form-item"><label>危险品名称 <span class="required">*</span></label><input type="text" placeholder="请输入危险品名称"></div>
                        <div class="form-item"><label>正确运输名称</label><input type="text" placeholder="英文运输名称"></div>
                        <div class="form-item"><label>危险品分类 <span class="required">*</span></label>
                            <input type="text" placeholder="请输入危险品分类，如 3">
                        </div>
                        <div class="form-item"><label>包装组</label>
                            <input type="text" placeholder="请输入包装组，如 I/II/III">
                        </div>
                        <div class="form-item"><label>描述</label><textarea placeholder="请输入描述"></textarea></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('hazard-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('hazard-list')">取消</button>
                </div>
            </form>
        `
    },
    'hazard-detail': {
        breadcrumb: '主数据管理 / 危险品管理 / 危险品详情',
        content: `
            <div class="page-header">
                <h3>危险品详情 - UN1203 汽油</h3>
                <div><button class="btn">编辑</button> <button class="btn btn-danger">删除</button></div>
            </div>
            <div class="detail-section">
                <h4>危险品信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>危险品代码</label><span>UN1203</span></div>
                    <div class="detail-item"><label>危险品名称</label><span>汽油</span></div>
                    <div class="detail-item"><label>正确运输名称</label><span>GASOLINE</span></div>
                    <div class="detail-item"><label>危险品分类</label><span>3</span></div>
                    <div class="detail-item"><label>包装组</label><span>II</span></div>
                    <div class="detail-item"><label>关联商品数</label><span>15</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>关联商品</h4>
                <table class="data-table">
                    <thead><tr><th>SKU</th><th>商品描述</th><th>状态</th></tr></thead>
                    <tbody>
                        <tr><td>FUEL-001</td><td>92号汽油</td><td><span class="tag tag-green">启用</span></td></tr>
                        <tr><td>FUEL-002</td><td>95号汽油</td><td><span class="tag tag-green">启用</span></td></tr>
                        <tr><td>FUEL-003</td><td>98号汽油</td><td><span class="tag tag-green">启用</span></td></tr>
                    </tbody>
                </table>
            </div>
        `
    },

    'item-list': {
        breadcrumb: '主数据管理 / 商品管理 / 商品列表',
        content: `
            <div class="page-header">
                <h3>商品列表</h3>
                <div>
                    <button class="btn" onclick="showPage('item-import')">导入</button>
                    <button class="btn btn-primary" onclick="showPage('item-create')">+ 创建商品</button>
                </div>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索 SKU / 描述 / 条码" class="search-input">
                <select class="filter-select"><option>全部状态</option><option>启用</option><option>禁用</option></select>
                <select class="filter-select"><option>全部类型</option><option>物料</option><option>产品</option></select>
                <button class="btn">搜索</button>
            </div>
            <table class="data-table">
                <thead><tr><th>SKU</th><th>描述</th><th>类型</th><th>行业</th><th>状态</th><th>套装</th><th>危险品</th><th>创建时间</th><th>操作</th></tr></thead>
                <tbody>
                    <tr><td>SKU-001</td><td>测试商品 A</td><td><span class="tag tag-blue">物料</span></td><td>食品行业</td><td><span class="tag tag-green">启用</span></td><td>-</td><td>-</td><td>2026-01-01</td><td><a href="#" onclick="showPage('item-detail')">查看</a> | <a href="#" onclick="showPage('item-edit')">编辑</a></td></tr>
                    <tr><td>SKU-002</td><td>测试商品 B</td><td><span class="tag tag-orange">产品</span></td><td>电子行业</td><td><span class="tag tag-green">启用</span></td><td>-</td><td>-</td><td>2026-01-02</td><td><a href="#" onclick="showPage('item-detail')">查看</a> | <a href="#" onclick="showPage('item-edit')">编辑</a></td></tr>
                    <tr><td>SKU-003</td><td>套装商品 C</td><td><span class="tag tag-orange">产品</span></td><td>-</td><td><span class="tag tag-green">启用</span></td><td><span class="tag tag-blue">套装</span></td><td>-</td><td>2026-01-03</td><td><a href="#" onclick="showPage('item-detail')">查看</a> | <a href="#" onclick="showPage('item-edit')">编辑</a></td></tr>
                    <tr><td>FUEL-001</td><td>92号汽油</td><td><span class="tag tag-blue">物料</span></td><td>化工行业</td><td><span class="tag tag-green">启用</span></td><td>-</td><td><span class="tag tag-red">危险品</span></td><td>2026-01-04</td><td><a href="#" onclick="showPage('item-detail')">查看</a> | <a href="#" onclick="showPage('item-edit')">编辑</a></td></tr>
                </tbody>
            </table>
            <div class="pagination">共 4 条 | 第 1 页</div>
        `
    },
    'item-create': {
        breadcrumb: '主数据管理 / 商品管理 / 创建商品',
        content: `
            <div class="page-header"><h3>创建商品</h3></div>
            <form class="form">
                <div class="tabs" id="item-tabs">
                    <span class="tab active" onclick="showItemTab('basic')">基本信息</span>
                    <span class="tab" id="property-tab" style="display:none" onclick="showItemTab('property')">行业属性</span>
                    <span class="tab" onclick="showItemTab('uom')">单位管理</span>
                    <span class="tab" onclick="showItemTab('pallet')">托盘配置</span>
                    <span class="tab" id="kitting-tab" style="display:none" onclick="showItemTab('kitting')">套装组件</span>
                </div>
                
                <div id="tab-basic" class="tab-content active">
                    <div class="form-section">
                        <h4>基础信息</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>SKU <span class="required">*</span></label><input type="text" placeholder="请输入 SKU"></div>
                            <div class="form-item"><label>描述</label><input type="text" placeholder="请输入描述"></div>
                            <div class="form-item"><label>简短描述</label><input type="text" placeholder="请输入简短描述"></div>
                            <div class="form-item"><label>缩写</label><input type="text" placeholder="请输入缩写"></div>
                            <div class="form-item"><label>类型 <span class="required">*</span></label><select><option>物料</option><option>产品</option></select></div>
                            <div class="form-item"><label>客户</label><select id="customer-select"><option value="">请选择客户</option><option value="ORG-1001">ORG-1001 - 客户 A</option><option value="ORG-1002">ORG-1002 - 客户 B</option><option value="ORG-1003">ORG-1003 - 客户 C</option></select><div style="font-size:12px;color:#999;margin-top:4px;">仅显示 tag 为 CUSTOMER 的组织</div></div>
                            <div class="form-item"><label>品牌</label><select id="brand-select"><option value="">请选择品牌</option><option value="ORG-2001">ORG-2001 - 品牌 X</option><option value="ORG-2002">ORG-2002 - 品牌 Y</option><option value="ORG-2003">ORG-2003 - 品牌 Z</option></select><div style="font-size:12px;color:#999;margin-top:4px;">仅显示 tag 为 BRAND 的组织</div></div>
                            <div class="form-item"><label>行业</label><select id="industry-select" onchange="loadIndustryProperties()"><option value="">请选择行业</option><option value="FOOD">食品行业</option><option value="ELEC">电子行业</option><option value="CHEM">化工行业</option></select></div>
                        </div>
                        <div class="form-item" style="margin-top:16px">
                            <label>标签</label>
                            <input type="text" placeholder="多个标签用逗号分隔，如: 热销, 新品, 促销">
                        </div>
                        <div class="form-item" style="margin-top:16px">
                            <label>别名 (AKAs)</label>
                            <input type="text" placeholder="多个别名用逗号分隔，如: 商品A, ProductA, 产品甲">
                            <div style="font-size:12px;color:#999;margin-top:4px;">商品的其他名称或代号，便于搜索和识别</div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>商品分类</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>等级</label><input type="text" placeholder="如: A, B, C"></div>
                            <div class="form-item"><label>NMFC 代码</label><input type="text" placeholder="美国货运分类代码"></div>
                            <div class="form-item"><label>商品代码</label><input type="text" placeholder="请输入商品代码"></div>
                            <div class="form-item"><label>包装材料</label><select id="packaging-material-select"><option value="">请选择物料商品</option><option value="ITEM-1001">ITEM-1001 - 纸箱包装材料</option><option value="ITEM-1002">ITEM-1002 - 木箱包装材料</option><option value="ITEM-1003">ITEM-1003 - 塑料包装袋</option><option value="ITEM-1004">ITEM-1004 - 泡沫填充物</option></select><div style="font-size:12px;color:#999;margin-top:4px;">仅显示类型为"物料"的商品</div></div>
                            <div class="form-item"><label>原产国</label><input type="text" placeholder="如: CN, US"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>条码信息</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>EAN 码</label><input type="text" placeholder="13 位数字"></div>
                            <div class="form-item"><label>UPC 码</label><input type="text" placeholder="12 位数字"></div>
                            <div class="form-item"><label>箱装 UPC</label><input type="text" placeholder="12 位数字"></div>
                            <div class="form-item"><label>ISBN 码</label><input type="text" placeholder="国际标准书号"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>序列号配置</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>启用序列号</label><input type="checkbox" id="sn-enabled" onchange="toggleSnFields()"></div>
                            <div class="form-item"><label>序列号长度</label><input type="number" placeholder="请输入长度"></div>
                            <div class="form-item"><label>序列号验证规则</label><input type="text" placeholder="正则表达式，如: ^[A-Z0-9]{10}$"></div>
                        </div>
                        <div class="form-grid" style="margin-top:12px">
                            <div class="form-item"><label>收货收集序列号</label><input type="checkbox"></div>
                            <div class="form-item"><label>发货收集序列号</label><input type="checkbox"></div>
                            <div class="form-item"><label>入库验证序列号</label><input type="checkbox"></div>
                            <div class="form-item"><label>出库验证序列号</label><input type="checkbox"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>批次配置</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>启用批次号</label><input type="checkbox" id="lot-enabled" onchange="toggleLotFields()"></div>
                            <div class="form-item"><label>保质期(天)</label><input type="number" placeholder="请输入天数"></div>
                        </div>
                        <div class="form-grid" style="margin-top:12px">
                            <div class="form-item"><label>收货收集批次号</label><input type="checkbox"></div>
                            <div class="form-item"><label>发货收集批次号</label><input type="checkbox"></div>
                            <div class="form-item"><label>收货收集过期日期</label><input type="checkbox"></div>
                            <div class="form-item"><label>收货收集生产日期</label><input type="checkbox"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>发货配置</h4>
                        <div class="form-grid">
                            <div class="form-item"><label>发货规则</label><select><option>请选择</option><option>FIFO - 先进先出</option><option>LIFO - 后进先出</option><option>FEFO - 先过期先出</option></select></div>
                            <div class="form-item"><label>允许发货天数</label><input type="number" placeholder="距过期日期的最小天数"></div>
                            <div class="form-item"><label>发货规则时间窗口(天)</label><input type="number" placeholder="时间窗口"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>特殊配置</h4>
                        <div class="form-grid">
                            <div class="form-item">
                                <label>套装商品</label>
                                <div class="switch-container">
                                    <label class="switch"><input type="checkbox" id="kitting-switch" onchange="toggleKittingTab()"><span class="slider"></span></label>
                                    <span>启用后可配置套装组件</span>
                                </div>
                            </div>
                            <div class="form-item">
                                <label>危险品</label>
                                <div class="switch-container">
                                    <label class="switch"><input type="checkbox" id="hazard-switch" onchange="toggleHazardSelect()"><span class="slider"></span></label>
                                    <span>启用后需选择危险品定义</span>
                                </div>
                            </div>
                        </div>
                        <div id="hazard-select-container" style="display:none; margin-top: 16px;">
                            <div class="form-item" style="max-width: 400px;">
                                <label>选择危险品定义 <span class="required">*</span></label>
                                <select>
                                    <option value="">请选择危险品</option>
                                    <option>UN1203 - 汽油</option>
                                    <option>UN1263 - 油漆</option>
                                    <option>UN2794 - 蓄电池</option>
                                    <option>UN1950 - 气雾剂</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab-property" class="tab-content">
                    <div class="form-section">
                        <h4>行业属性</h4>
                        <div id="no-industry-hint" class="warning-box">请先在基本信息中选择行业，系统将自动加载该行业的属性模板</div>
                        <div id="industry-properties" style="display:none;">
                            <div class="info-box">已加载 <strong>食品行业</strong> 的属性模板，您可以填写属性值、删除不需要的属性或添加自定义属性</div>
                            <button type="button" class="btn btn-primary btn-sm" onclick="showModal('add-property-modal')">+ 添加自定义属性</button>
                            <div class="property-list">
                                <div class="property-item">
                                    <span class="name">保质期 <span class="required">*</span></span>
                                    <span class="type">NUMBER</span>
                                    <span class="value"><input type="number" placeholder="请输入"> 天</span>
                                    <span class="actions"><button class="btn btn-sm" onclick="this.closest('.property-item').remove()">删除</button></span>
                                </div>
                                <div class="property-item">
                                    <span class="name">产地</span>
                                    <span class="type">TEXT</span>
                                    <span class="value"><input type="text" placeholder="请输入"></span>
                                    <span class="actions"><button class="btn btn-sm" onclick="this.closest('.property-item').remove()">删除</button></span>
                                </div>
                                <div class="property-item">
                                    <span class="name">等级 <span class="required">*</span></span>
                                    <span class="type">SELECT</span>
                                    <span class="value"><select><option>请选择</option><option>A</option><option>B</option><option>C</option></select></span>
                                    <span class="actions"><button class="btn btn-sm" onclick="this.closest('.property-item').remove()">删除</button></span>
                                </div>
                                <div class="property-item">
                                    <span class="name">生产日期 <span class="required">*</span></span>
                                    <span class="type">DATE</span>
                                    <span class="value"><input type="date"></span>
                                    <span class="actions"><button class="btn btn-sm" onclick="this.closest('.property-item').remove()">删除</button></span>
                                </div>
                                <div class="property-item">
                                    <span class="name">储存温度</span>
                                    <span class="type">NUMBER</span>
                                    <span class="value"><input type="number" placeholder="请输入"> 摄氏度</span>
                                    <span class="actions"><button class="btn btn-sm" onclick="this.closest('.property-item').remove()">删除</button></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tab-uom" class="tab-content">
                    <div class="form-section">
                        <h4>单位管理</h4>
                        <button type="button" class="btn btn-primary btn-sm" onclick="showModal('add-uom-modal')">+ 添加单位</button>
                        <table class="data-table" style="margin-top:12px">
                            <thead><tr><th>单位名称</th><th>内包装单位</th><th>换算数量</th><th>基础数量</th><th>尺寸</th><th>重量</th><th>默认</th><th>操作</th></tr></thead>
                            <tbody>
                                <tr><td>个</td><td>-</td><td>1</td><td><span class="tag tag-blue">1</span></td><td>10x5x3cm</td><td>0.5kg</td><td><span class="tag tag-green">是</span></td><td><button class="btn btn-sm">编辑</button></td></tr>
                                <tr><td>箱</td><td>个</td><td>12</td><td><span class="tag tag-blue">12</span></td><td>40x30x20cm</td><td>6.5kg</td><td><span class="tag tag-gray">否</span></td><td><button class="btn btn-sm">编辑</button> <button class="btn btn-sm">删除</button></td></tr>
                                <tr><td>托</td><td>箱</td><td>20</td><td><span class="tag tag-blue">240</span></td><td>120x100x150cm</td><td>135kg</td><td><span class="tag tag-gray">否</span></td><td><button class="btn btn-sm">编辑</button> <button class="btn btn-sm">删除</button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div id="tab-pallet" class="tab-content">
                    <div class="form-section">
                        <h4>托盘配置</h4>
                        <button type="button" class="btn btn-primary btn-sm" onclick="showModal('add-pallet-modal')">+ 添加配置</button>
                        <table class="data-table" style="margin-top:12px">
                            <thead><tr><th>配置名称</th><th>场景</th><th>零售商</th><th>承运商</th><th>单位</th><th>TI</th><th>HI</th><th>默认</th><th>操作</th></tr></thead>
                            <tbody>
                                <tr><td>标准配置</td><td>入库</td><td>-</td><td>-</td><td>箱</td><td>4</td><td>5</td><td><span class="tag tag-green">是</span></td><td><button class="btn btn-sm">编辑</button></td></tr>
                                <tr><td>零售商A配置</td><td>出库</td><td>零售商A</td><td>顺丰速运</td><td>箱</td><td>6</td><td>4</td><td><span class="tag tag-gray">否</span></td><td><button class="btn btn-sm">编辑</button> <button class="btn btn-sm">删除</button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div id="tab-kitting" class="tab-content">
                    <div class="form-section">
                        <h4>套装组件</h4>
                        <button type="button" class="btn btn-primary btn-sm" onclick="showModal('add-component-modal')">+ 添加组件</button>
                        <table class="data-table" style="margin-top:12px">
                            <thead><tr><th>组件SKU</th><th>组件描述</th><th>数量</th><th>单位</th><th>操作</th></tr></thead>
                            <tbody>
                                <tr><td>SKU-001</td><td>测试商品A</td><td>2</td><td>个</td><td><button class="btn btn-sm">编辑</button> <button class="btn btn-sm">删除</button></td></tr>
                                <tr><td>SKU-002</td><td>测试商品B</td><td>1</td><td>个</td><td><button class="btn btn-sm">编辑</button> <button class="btn btn-sm">删除</button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('item-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('item-list')">取消</button>
                </div>
            </form>
            
            <!-- Modals -->
            <div id="add-property-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header"><h4>添加自定义属性</h4><span class="close" onclick="hideModal('add-property-modal')">x</span></div>
                    <div class="modal-body">
                        <div class="form-item"><label>属性名称 <span class="required">*</span></label><input type="text" placeholder="请输入属性名称"></div>
                        <div class="form-item"><label>属性类型 <span class="required">*</span></label><select><option>TEXT</option><option>NUMBER</option><option>DATE</option><option>SELECT</option></select></div>
                        <div class="form-item"><label>属性值</label><input type="text" placeholder="请输入属性值"></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" onclick="hideModal('add-property-modal')">确定</button><button class="btn" onclick="hideModal('add-property-modal')">取消</button></div>
                </div>
            </div>
            
            <div id="add-uom-modal" class="modal">
                <div class="modal-content" style="width:650px">
                    <div class="modal-header"><h4>添加单位</h4><span class="close" onclick="hideModal('add-uom-modal')">x</span></div>
                    <div class="modal-body">
                        <div class="form-grid">
                            <div class="form-item"><label>单位名称 <span class="required">*</span></label><input type="text" placeholder="如: 个、箱、托"></div>
                            <div class="form-item">
                                <label>基本单位</label>
                                <div class="switch-container">
                                    <label class="switch"><input type="checkbox" id="base-uom-switch" onchange="toggleBaseUomFields()"><span class="slider"></span></label>
                                    <span>开启后换算数量默认为1</span>
                                </div>
                            </div>
                        </div>
                        <div id="non-base-uom-fields">
                            <div class="form-grid">
                                <div class="form-item"><label>内包装单位 <span class="required">*</span></label><select><option>请选择</option><option>个</option></select></div>
                                <div class="form-item"><label>换算数量 <span class="required">*</span></label><input type="number" placeholder="相对于内包装单位的数量"></div>
                            </div>
                        </div>
                        <div style="display:flex; gap:8px; margin-bottom:16px;">
                            <div style="flex:1"><label style="display:block;margin-bottom:8px">长度</label><div style="display:flex;gap:4px"><input type="number" style="width:80px" placeholder="长"><input type="number" style="width:80px" placeholder="宽"><input type="number" style="width:80px" placeholder="高"><select style="width:80px"><option>cm</option><option>m</option><option>in</option></select></div></div>
                        </div>
                        <div style="display:flex; gap:16px; margin-bottom:16px;">
                            <div><label style="display:block;margin-bottom:8px">重量</label><div style="display:flex;gap:4px"><input type="number" style="width:100px" placeholder="重量"><select style="width:70px"><option>kg</option><option>g</option><option>lb</option></select></div></div>
                            <div><label style="display:block;margin-bottom:8px">体积</label><div style="display:flex;gap:4px"><input type="number" style="width:100px" placeholder="体积"><select style="width:80px"><option>m3</option><option>ft3</option><option>in3</option></select></div></div>
                        </div>
                        <div style="display:flex; gap:16px; margin-bottom:16px;">
                            <div><label style="display:block;margin-bottom:8px">价格</label><div style="display:flex;gap:4px"><input type="number" style="width:100px" placeholder="价格"><select style="width:70px"><option>CNY</option><option>USD</option><option>EUR</option></select></div></div>
                            <div><label style="display:block;margin-bottom:8px">保险价格</label><input type="number" style="width:100px" placeholder="保险价格"></div>
                        </div>
                        <div class="form-item"><label><input type="checkbox"> 设为默认单位</label></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" onclick="hideModal('add-uom-modal')">确定</button><button class="btn" onclick="hideModal('add-uom-modal')">取消</button></div>
                </div>
            </div>
            
            <div id="add-pallet-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header"><h4>添加托盘配置</h4><span class="close" onclick="hideModal('add-pallet-modal')">x</span></div>
                    <div class="modal-body">
                        <div class="form-item"><label>配置名称 <span class="required">*</span></label><input type="text" placeholder="请输入配置名称"></div>
                        <div class="form-item"><label>场景</label><select><option>入库</option><option>出库</option></select></div>
                        <div class="form-item"><label>零售商</label><select id="pallet-retailer-select"><option value="">无</option><option value="ORG-3001">ORG-3001 - 零售商 A</option><option value="ORG-3002">ORG-3002 - 零售商 B</option><option value="ORG-3003">ORG-3003 - 零售商 C</option></select><div style="font-size:12px;color:#999;margin-top:4px;">仅显示 tag 为 RETAILER 的组织</div></div>
                        <div class="form-item"><label>承运商</label><select><option>无</option><option>顺丰速运</option><option>中通快递</option><option>德邦物流</option></select></div>
                        <div class="form-item"><label>单位 <span class="required">*</span></label><select id="pallet-uom-select"><option value="">请选择单位</option><option value="1">个</option><option value="2">箱</option></select><div style="font-size:12px;color:#999;margin-top:4px;">选择该商品已配置的单位</div></div>
                        <div class="form-item"><label>TI (每层数量) <span class="required">*</span></label><input type="number" placeholder="请输入 TI"></div>
                        <div class="form-item"><label>HI (层数) <span class="required">*</span></label><input type="number" placeholder="请输入 HI"></div>
                        <div class="form-item"><label><input type="checkbox"> 设为默认配置</label></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" onclick="hideModal('add-pallet-modal')">确定</button><button class="btn" onclick="hideModal('add-pallet-modal')">取消</button></div>
                </div>
            </div>
            
            <div id="add-component-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header"><h4>添加套装组件</h4><span class="close" onclick="hideModal('add-component-modal')">x</span></div>
                    <div class="modal-body">
                        <div class="form-item"><label>选择商品 <span class="required">*</span></label><select><option>请选择商品</option><option>SKU-001 - 测试商品 A</option><option>SKU-002 - 测试商品 B</option><option>SKU-004 - 测试商品 D</option></select></div>
                        <div class="form-item"><label>数量 <span class="required">*</span></label><input type="number" placeholder="请输入数量" value="1"></div>
                        <div class="form-item"><label>单位</label><select><option>个</option><option>箱</option></select></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" onclick="hideModal('add-component-modal')">确定</button><button class="btn" onclick="hideModal('add-component-modal')">取消</button></div>
                </div>
            </div>
        `
    },

    'item-import': {
        breadcrumb: '主数据管理 / 商品管理 / 商品导入',
        content: `
            <div class="page-header">
                <h3>商品导入</h3>
                <button class="btn" onclick="showPage('item-list')">返回列表</button>
            </div>
            
            <div class="form-section">
                <h4>上传文件</h4>
                <div style="display:flex; gap:16px; align-items:center; margin-bottom:16px;">
                    <div id="upload-area" style="border:2px dashed var(--border-color); border-radius:8px; padding:40px; text-align:center; flex:1; cursor:pointer; background:#fafafa;" onclick="document.getElementById('file-input').click()">
                        <div style="font-size:48px; color:#999; margin-bottom:12px;">+</div>
                        <div style="color:var(--text-secondary);">点击或拖拽 Excel 文件到此处上传</div>
                        <div style="font-size:12px; color:#999; margin-top:8px;">支持 .xlsx, .xls 格式，最大 10MB</div>
                        <input type="file" id="file-input" accept=".xlsx,.xls" style="display:none" onchange="handleFileUpload(this)">
                    </div>
                    <div style="text-align:center;">
                        <a href="item-template.xlsx" download class="btn btn-primary" style="display:inline-block; text-decoration:none;">下载模板</a>
                        <div style="font-size:12px; color:#999; margin-top:8px;">73 列标准模板</div>
                    </div>
                </div>
                <div id="file-info" style="display:none; padding:12px; background:#e6f7ff; border:1px solid #91d5ff; border-radius:4px;">
                    <span id="file-name"></span>
                    <button class="btn btn-sm" style="margin-left:12px;" onclick="clearFile()">移除</button>
                </div>
            </div>
            
            <div id="preview-section">
                <div class="form-section">
                    <h4>数据预览</h4>
                    <div class="info-box">已解析 <strong id="row-count">0</strong> 条数据，请检查字段映射后点击导入</div>
                    <div style="overflow-x:auto; max-height:300px; overflow-y:auto;">
                        <table class="data-table" id="preview-table">
                            <thead><tr><th>行号</th><th>SKU</th><th>描述</th><th>类型</th><th>状态</th><th>基本单位</th><th>校验结果</th></tr></thead>
                            <tbody>
                                <tr><td>1</td><td>SKU-101</td><td>导入商品A</td><td>PRODUCT</td><td>ENABLED</td><td>EA</td><td><span class="tag tag-green">通过</span></td></tr>
                                <tr><td>2</td><td>SKU-102</td><td>导入商品B</td><td>MATERIAL</td><td>ENABLED</td><td>PCS</td><td><span class="tag tag-green">通过</span></td></tr>
                                <tr><td>3</td><td>SKU-103</td><td>导入商品C</td><td>PRODUCT</td><td>ENABLED</td><td>EA</td><td><span class="tag tag-red">SKU重复</span></td></tr>
                                <tr><td>4</td><td>SKU-104</td><td>导入商品D</td><td>PRODUCT</td><td>ENABLED</td><td>BOX</td><td><span class="tag tag-green">通过</span></td></tr>
                                <tr><td>5</td><td></td><td>导入商品E</td><td>PRODUCT</td><td>ENABLED</td><td>EA</td><td><span class="tag tag-red">SKU必填</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="form-section">
                    <h4>字段映射 - Item 基础信息</h4>
                    <div class="info-box">系统已根据列名自动匹配，您可以手动调整映射关系</div>
                    <div class="form-grid-3">
                        <div class="form-item"><label>SKU <span class="required">*</span></label><select><option>列1: sku</option><option>列2: description</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>描述</label><select><option>列2: description</option><option>列1: sku</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>简短描述</label><select><option>列3: shortDescription</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>缩写</label><select><option>列4: abbreviation</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>客户ID</label><select><option>列5: customerId</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>品牌ID</label><select><option>列6: brandId</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>行业ID</label><select><option>列7: industryId</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>类型</label><select><option>列8: type</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>状态</label><select><option>列9: status</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>等级</label><select><option>列10: grade</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>NMFC</label><select><option>列11: nmfc</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>商品代码</label><select><option>列12: commodityCode</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>原产国</label><select><option>列13: countryOfOrigin</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>包装材料</label><select><option>列14: packagingMaterial</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>标签</label><select><option>列15: tags</option><option>-- 不导入 --</option></select></div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h4>字段映射 - 条码/序列号/批次</h4>
                    <div class="form-grid-3">
                        <div class="form-item"><label>EAN码</label><select><option>列16: eanCode</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>UPC码</label><select><option>列17: upcCode</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>箱装UPC码</label><select><option>列18: caseUpcCode</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>ISBN码</label><select><option>列19: isbnCode</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否有序列号</label><select><option>列20: hasSerialNumber</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>序列号长度</label><select><option>列21: serialNoLength</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否有批次号</label><select><option>列24: hasLotNo</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>保质期天数</label><select><option>列29: shelfLifeDays</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否危险品</label><select><option>列32: isHazardous</option><option>-- 不导入 --</option></select></div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h4>字段映射 - Base UOM (基本单位)</h4>
                    <div class="form-grid-3">
                        <div class="form-item"><label>单位名称 <span class="required">*</span></label><select><option>列36: baseUom_name</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否默认</label><select><option>列37: baseUom_isDefault</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>长度</label><select><option>列38: baseUom_length</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>宽度</label><select><option>列39: baseUom_width</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>高度</label><select><option>列40: baseUom_height</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>线性单位</label><select><option>列41: baseUom_linearUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量</label><select><option>列42: baseUom_weight</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量单位</label><select><option>列43: baseUom_weightUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积</label><select><option>列44: baseUom_volume</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积单位</label><select><option>列45: baseUom_volumeUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>价格</label><select><option>列46: baseUom_price</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>币种</label><select><option>列47: baseUom_currency</option><option>-- 不导入 --</option></select></div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h4>字段映射 - Inner UOM (内包装单位) - 可选</h4>
                    <div class="form-grid-3">
                        <div class="form-item"><label>单位名称</label><select><option>列48: innerUom_name</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>换算数量</label><select><option>列49: innerUom_baseQty</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否默认</label><select><option>列50: innerUom_isDefault</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>长度</label><select><option>列51: innerUom_length</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>宽度</label><select><option>列52: innerUom_width</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>高度</label><select><option>列53: innerUom_height</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>线性单位</label><select><option>列54: innerUom_linearUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量</label><select><option>列55: innerUom_weight</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量单位</label><select><option>列56: innerUom_weightUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积</label><select><option>列57: innerUom_volume</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积单位</label><select><option>列58: innerUom_volumeUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>价格</label><select><option>列59: innerUom_price</option><option>-- 不导入 --</option></select></div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h4>字段映射 - Case UOM (箱装单位) - 可选</h4>
                    <div class="form-grid-3">
                        <div class="form-item"><label>单位名称</label><select><option>列61: caseUom_name</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>换算数量</label><select><option>列62: caseUom_baseQty</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>是否默认</label><select><option>列63: caseUom_isDefault</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>长度</label><select><option>列64: caseUom_length</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>宽度</label><select><option>列65: caseUom_width</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>高度</label><select><option>列66: caseUom_height</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>线性单位</label><select><option>列67: caseUom_linearUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量</label><select><option>列68: caseUom_weight</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>重量单位</label><select><option>列69: caseUom_weightUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积</label><select><option>列70: caseUom_volume</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>体积单位</label><select><option>列71: caseUom_volumeUom</option><option>-- 不导入 --</option></select></div>
                        <div class="form-item"><label>价格</label><select><option>列72: caseUom_price</option><option>-- 不导入 --</option></select></div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="executeImport()">开始导入</button>
                    <button type="button" class="btn" onclick="showPage('item-list')">取消</button>
                </div>
            </div>
            
            <div id="result-section" style="display:none;">
                <div class="form-section">
                    <h4>导入结果</h4>
                    <div style="padding:20px; text-align:center;">
                        <div style="font-size:48px; color:var(--success-color); margin-bottom:16px;">OK</div>
                        <div style="font-size:18px; margin-bottom:8px;">导入完成</div>
                        <div style="color:var(--text-secondary);">
                            成功: <span style="color:var(--success-color); font-weight:bold;">3</span> 条 | 
                            失败: <span style="color:var(--error-color); font-weight:bold;">2</span> 条
                        </div>
                    </div>
                    <div style="margin-top:20px;">
                        <h5 style="margin-bottom:12px;">失败记录</h5>
                        <table class="data-table">
                            <thead><tr><th>行号</th><th>SKU</th><th>失败原因</th></tr></thead>
                            <tbody>
                                <tr><td>3</td><td>SKU-103</td><td><span class="tag tag-red">SKU已存在</span></td></tr>
                                <tr><td>5</td><td>-</td><td><span class="tag tag-red">SKU为必填字段</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-primary" onclick="showPage('item-list')">返回列表</button>
                        <button type="button" class="btn" onclick="resetImport()">继续导入</button>
                    </div>
                </div>
            </div>
        `
    },

    'item-detail': {
        breadcrumb: '主数据管理 / 商品管理 / 商品详情',
        content: `
            <div class="page-header">
                <h3>商品详情 - SKU-001</h3>
                <div><button class="btn" onclick="showPage('item-edit')">编辑</button> <button class="btn btn-danger">禁用</button></div>
            </div>
            <div class="detail-section">
                <h4>基础信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>SKU</label><span>SKU-001</span></div>
                    <div class="detail-item"><label>描述</label><span>测试商品 A</span></div>
                    <div class="detail-item"><label>类型</label><span><span class="tag tag-blue">物料</span></span></div>
                    <div class="detail-item"><label>状态</label><span><span class="tag tag-green">启用</span></span></div>
                    <div class="detail-item"><label>客户</label><span>客户 A</span></div>
                    <div class="detail-item"><label>品牌</label><span>品牌 X</span></div>
                    <div class="detail-item"><label>行业</label><span>食品行业</span></div>
                    <div class="detail-item"><label>套装</label><span>否</span></div>
                    <div class="detail-item"><label>危险品</label><span>否</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>条码信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>EAN 码</label><span>1234567890123</span></div>
                    <div class="detail-item"><label>UPC 码</label><span>123456789012</span></div>
                    <div class="detail-item"><label>箱装 UPC</label><span>-</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>序列号/批次配置</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>启用序列号</label><span>是</span></div>
                    <div class="detail-item"><label>收货收集序列号</label><span>是</span></div>
                    <div class="detail-item"><label>启用批次号</label><span>是</span></div>
                    <div class="detail-item"><label>保质期(天)</label><span>365</span></div>
                </div>
            </div>
            <div class="tabs">
                <span class="tab active" onclick="showDetailTab('detail-property')">行业属性</span>
                <span class="tab" onclick="showDetailTab('detail-uom')">单位</span>
                <span class="tab" onclick="showDetailTab('detail-pallet')">托盘配置</span>
            </div>
            <div id="detail-property" class="tab-content active">
                <table class="data-table"><thead><tr><th>属性名</th><th>类型</th><th>值</th><th>必填</th></tr></thead>
                <tbody>
                    <tr><td>保质期</td><td>NUMBER</td><td>365 天</td><td><span class="tag tag-green">是</span></td></tr>
                    <tr><td>产地</td><td>TEXT</td><td>浙江</td><td><span class="tag tag-gray">否</span></td></tr>
                    <tr><td>等级</td><td>SELECT</td><td>A</td><td><span class="tag tag-green">是</span></td></tr>
                    <tr><td>生产日期</td><td>DATE</td><td>2026-01-01</td><td><span class="tag tag-green">是</span></td></tr>
                </tbody></table>
            </div>
            <div id="detail-uom" class="tab-content">
                <table class="data-table"><thead><tr><th>单位</th><th>换算数量</th><th>基本单位</th><th>默认</th><th>尺寸</th><th>重量</th></tr></thead>
                <tbody>
                    <tr><td>个</td><td>1</td><td><span class="tag tag-green">是</span></td><td><span class="tag tag-green">是</span></td><td>10x5x3 cm</td><td>0.5 kg</td></tr>
                    <tr><td>箱</td><td>12</td><td><span class="tag tag-gray">否</span></td><td><span class="tag tag-gray">否</span></td><td>40x30x20 cm</td><td>6.5 kg</td></tr>
                </tbody></table>
            </div>
            <div id="detail-pallet" class="tab-content">
                <table class="data-table"><thead><tr><th>配置名称</th><th>场景</th><th>零售商</th><th>承运商</th><th>单位</th><th>TI</th><th>HI</th><th>默认</th></tr></thead>
                <tbody>
                    <tr><td>标准配置</td><td>入库</td><td>-</td><td>-</td><td>箱</td><td>4</td><td>5</td><td><span class="tag tag-green">是</span></td></tr>
                    <tr><td>零售商A配置</td><td>出库</td><td>零售商 A</td><td>顺丰速运</td><td>箱</td><td>6</td><td>4</td><td><span class="tag tag-gray">否</span></td></tr>
                </tbody></table>
            </div>
        `
    },

    'carrier-list': {
        breadcrumb: '主数据管理 / 承运商管理 / 承运商列表',
        content: `
            <div class="page-header">
                <h3>承运商列表</h3>
                <button class="btn btn-primary" onclick="showPage('carrier-create')">+ 创建承运商</button>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索承运商代码 / 名称" class="search-input">
                <select class="filter-select"><option>全部状态</option><option>启用</option><option>停用</option><option>异常</option></select>
                <select class="filter-select"><option>全部运输方式</option><option>整车</option><option>零担</option><option>小包裹</option><option>自提</option></select>
                <button class="btn">搜索</button>
            </div>
            <table class="data-table">
                <thead><tr><th>承运商代码</th><th>承运商名称</th><th>SCAC</th><th>运输方式</th><th>联系人</th><th>状态</th><th>操作</th></tr></thead>
                <tbody>
                    <tr><td>CAR00001</td><td>顺丰速运</td><td>SFEX</td><td>小包裹</td><td>张经理</td><td><span class="tag tag-green">启用</span></td><td><a href="#" onclick="showPage('carrier-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>CAR00002</td><td>德邦物流</td><td>DBWL</td><td>零担, 整车</td><td>李经理</td><td><span class="tag tag-green">启用</span></td><td><a href="#" onclick="showPage('carrier-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>CAR00003</td><td>中通快递</td><td>ZTO</td><td>小包裹</td><td>王经理</td><td><span class="tag tag-green">启用</span></td><td><a href="#" onclick="showPage('carrier-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>CAR00004</td><td>安能物流</td><td>ANE</td><td>零担</td><td>赵经理</td><td><span class="tag tag-orange">停用</span></td><td><a href="#" onclick="showPage('carrier-detail')">查看</a> | <a href="#">编辑</a> | <a href="#">删除</a></td></tr>
                </tbody>
            </table>
            <div class="pagination">共 4 条 | 第 1 页</div>
        `
    },
    'carrier-create': {
        breadcrumb: '主数据管理 / 承运商管理 / 创建承运商',
        content: `
            <div class="page-header"><h3>创建承运商</h3></div>
            <form class="form">
                <div class="form-section">
                    <h4>基本信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>承运商名称 <span class="required">*</span></label><input type="text" placeholder="请输入承运商名称"></div>
                        <div class="form-item"><label>SCAC 代码</label><input type="text" placeholder="标准承运商字母代码，如 SFEX"></div>
                        <div class="form-item"><label>状态</label><select><option>启用</option><option>停用</option><option>异常</option></select></div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>运输配置</h4>
                    <div class="form-grid">
                        <div class="form-item">
                            <label>运输方式</label>
                            <div style="display:flex; gap:16px; flex-wrap:wrap; margin-top:8px;">
                                <label><input type="checkbox"> 整车 (TL)</label>
                                <label><input type="checkbox"> 零担 (LTL)</label>
                                <label><input type="checkbox" checked> 小包裹 (Small Parcel)</label>
                                <label><input type="checkbox"> 自提 (Will Call)</label>
                            </div>
                        </div>
                        <div class="form-item"><label>默认运输方式</label><select><option>请选择</option><option>整车</option><option>零担</option><option>小包裹</option><option>自提</option></select></div>
                    </div>
                    <div class="form-item" style="margin-top:16px">
                        <label>配送服务</label>
                        <input type="text" placeholder="多个服务用逗号分隔，如: 次日达, 隔日达, 标准配送">
                    </div>
                </div>
                <div class="form-section">
                    <h4>美国运输部信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>MC/DOT 编号</label><input type="text" placeholder="美国运输部编号"></div>
                        <div class="form-item"><label>MC 编号</label><input type="text" placeholder="MC 编号"></div>
                        <div class="form-item"><label>合作伙伴 SCAC</label><input type="text" placeholder="合作伙伴承运商代码"></div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>覆盖范围</h4>
                    <div class="form-item">
                        <label>邮政编码覆盖范围</label>
                        <textarea placeholder="输入覆盖的邮政编码，多个用逗号分隔，如: 518000, 518001, 518100" style="width:100%"></textarea>
                    </div>
                </div>
                <div class="form-section">
                    <h4>联系信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>联系人</label><input type="text" placeholder="请输入联系人姓名"></div>
                        <div class="form-item"><label>联系电话</label><input type="text" placeholder="请输入联系电话"></div>
                        <div class="form-item"><label>邮箱</label><input type="email" placeholder="请输入邮箱地址"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('carrier-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('carrier-list')">取消</button>
                </div>
            </form>
        `
    },
    'carrier-detail': {
        breadcrumb: '主数据管理 / 承运商管理 / 承运商详情',
        content: `
            <div class="page-header">
                <h3>承运商详情 - 顺丰速运</h3>
                <div><button class="btn">编辑</button> <button class="btn btn-danger">停用</button></div>
            </div>
            <div class="detail-section">
                <h4>基本信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>承运商 ID</label><span>CAR00001</span></div>
                    <div class="detail-item"><label>承运商名称</label><span>顺丰速运</span></div>
                    <div class="detail-item"><label>SCAC 代码</label><span>SFEX</span></div>
                    <div class="detail-item"><label>状态</label><span><span class="tag tag-green">启用</span></span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>运输配置</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>运输方式</label><span><span class="tag tag-blue">小包裹</span></span></div>
                    <div class="detail-item"><label>默认运输方式</label><span>小包裹</span></div>
                    <div class="detail-item"><label>配送服务</label><span>次日达, 隔日达, 标准配送</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>美国运输部信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>MC/DOT 编号</label><span>-</span></div>
                    <div class="detail-item"><label>MC 编号</label><span>-</span></div>
                    <div class="detail-item"><label>合作伙伴 SCAC</label><span>-</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>覆盖范围</h4>
                <div class="detail-item"><label>邮政编码覆盖范围</label><span>518000, 518001, 518100, 510000, 510001</span></div>
            </div>
            <div class="detail-section">
                <h4>联系信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>联系人</label><span>张经理</span></div>
                    <div class="detail-item"><label>联系电话</label><span>13800138001</span></div>
                    <div class="detail-item"><label>邮箱</label><span>sf@example.com</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>关联托盘配置</h4>
                <table class="data-table">
                    <thead><tr><th>商品 SKU</th><th>配置名称</th><th>TI</th><th>HI</th></tr></thead>
                    <tbody>
                        <tr><td>SKU-001</td><td>零售商A配置</td><td>6</td><td>4</td></tr>
                        <tr><td>SKU-005</td><td>顺丰专用配置</td><td>5</td><td>5</td></tr>
                    </tbody>
                </table>
            </div>
        `
    },

    'address-list': {
        breadcrumb: '主数据管理 / 地址管理 / 地址列表',
        content: `
            <div class="page-header">
                <h3>地址列表</h3>
                <button class="btn btn-primary" onclick="showPage('address-create')">+ 创建地址</button>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索地址名称 / 简称 / 联系人" class="search-input">
                <button class="btn">搜索</button>
            </div>
            <table class="data-table">
                <thead><tr><th>地址名称</th><th>简称</th><th>标签</th><th>国家</th><th>城市</th><th>联系人</th><th>电话</th><th>操作</th></tr></thead>
                <tbody>
                    <tr><td>深圳总仓</td><td>SZ-WH</td><td><span class="tag tag-blue">仓库</span></td><td>中国</td><td>深圳</td><td>张经理</td><td>13800138001</td><td><a href="#" onclick="showPage('address-detail')">查看</a> | <a href="#" onclick="showPage('address-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>上海分仓</td><td>SH-WH</td><td><span class="tag tag-blue">仓库</span></td><td>中国</td><td>上海</td><td>李经理</td><td>13800138002</td><td><a href="#" onclick="showPage('address-detail')">查看</a> | <a href="#" onclick="showPage('address-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>客户A总部</td><td>CUST-A</td><td><span class="tag tag-green">客户</span></td><td>中国</td><td>北京</td><td>王总</td><td>13800138003</td><td><a href="#" onclick="showPage('address-detail')">查看</a> | <a href="#" onclick="showPage('address-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>供应商B工厂</td><td>SUP-B</td><td><span class="tag tag-orange">供应商</span></td><td>中国</td><td>广州</td><td>赵经理</td><td>13800138004</td><td><a href="#" onclick="showPage('address-detail')">查看</a> | <a href="#" onclick="showPage('address-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                    <tr><td>零售门店001</td><td>STORE-001</td><td><span class="tag tag-gray">门店</span></td><td>中国</td><td>杭州</td><td>孙店长</td><td>13800138005</td><td><a href="#" onclick="showPage('address-detail')">查看</a> | <a href="#" onclick="showPage('address-edit')">编辑</a> | <a href="#">删除</a></td></tr>
                </tbody>
            </table>
            <div class="pagination">共 5 条 | 第 1 页</div>
        `
    },
    'address-create': {
        breadcrumb: '主数据管理 / 地址管理 / 创建地址',
        content: `
            <div class="page-header"><h3>创建地址</h3></div>
            <form class="form">
                <div class="form-section">
                    <h4>基本信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>地址名称 <span class="required">*</span></label><input type="text" placeholder="请输入地址名称，如：深圳总仓"></div>
                        <div class="form-item"><label>简称</label><input type="text" placeholder="请输入简称，如：SZ-WH"></div>
                        <div class="form-item"><label>关联组织</label><select><option value="">请选择组织</option><option>ORG-001 - 总公司</option><option>ORG-002 - 深圳分公司</option><option>ORG-003 - 上海分公司</option></select></div>
                    </div>
                    <div class="form-item" style="margin-top:16px">
                        <label>标签</label>
                        <input type="text" placeholder="多个标签用逗号分隔，如: 仓库, 收货地址, 发货地址">
                        <div style="font-size:12px;color:#999;margin-top:4px;">常用标签：仓库、客户、供应商、门店、收货地址、发货地址</div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>地址信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>国家 <span class="required">*</span></label><input type="text" placeholder="请输入国家，如：中国、美国"></div>
                        <div class="form-item"><label>省/州</label><input type="text" placeholder="请输入省/州"></div>
                        <div class="form-item"><label>城市</label><input type="text" placeholder="请输入城市"></div>
                        <div class="form-item"><label>邮政编码</label><input type="text" placeholder="请输入邮政编码"></div>
                    </div>
                    <div class="form-item" style="margin-top:16px"><label>地址行1 <span class="required">*</span></label><input type="text" placeholder="请输入详细地址"></div>
                    <div class="form-item"><label>地址行2</label><input type="text" placeholder="请输入补充地址信息（可选）"></div>
                </div>
                <div class="form-section">
                    <h4>联系信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>联系人</label><input type="text" placeholder="请输入联系人姓名"></div>
                        <div class="form-item"><label>联系电话</label><input type="text" placeholder="请输入联系电话"></div>
                        <div class="form-item"><label>分机号</label><input type="text" placeholder="请输入分机号"></div>
                        <div class="form-item"><label>邮箱</label><input type="email" placeholder="请输入邮箱地址"></div>
                        <div class="form-item"><label>传真</label><input type="text" placeholder="请输入传真号码"></div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>其他信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>门店编号</label><input type="text" placeholder="请输入门店编号（如适用）"></div>
                    </div>
                    <div class="form-item" style="margin-top:16px"><label>备注</label><textarea placeholder="请输入备注信息"></textarea></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('address-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('address-list')">取消</button>
                </div>
            </form>
        `
    },
    'address-edit': {
        breadcrumb: '主数据管理 / 地址管理 / 编辑地址',
        content: `
            <div class="page-header"><h3>编辑地址 - 深圳总仓</h3></div>
            <form class="form">
                <div class="form-section">
                    <h4>基本信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>地址名称 <span class="required">*</span></label><input type="text" value="深圳总仓"></div>
                        <div class="form-item"><label>简称</label><input type="text" value="SZ-WH"></div>
                        <div class="form-item"><label>关联组织</label><select><option value="">请选择组织</option><option selected>ORG-002 - 深圳分公司</option><option>ORG-001 - 总公司</option><option>ORG-003 - 上海分公司</option></select></div>
                    </div>
                    <div class="form-item" style="margin-top:16px">
                        <label>标签</label>
                        <input type="text" value="仓库, 收货地址, 发货地址">
                        <div style="font-size:12px;color:#999;margin-top:4px;">常用标签：仓库、客户、供应商、门店、收货地址、发货地址</div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>地址信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>国家 <span class="required">*</span></label><input type="text" value="中国"></div>
                        <div class="form-item"><label>省/州</label><input type="text" value="广东省"></div>
                        <div class="form-item"><label>城市</label><input type="text" value="深圳市"></div>
                        <div class="form-item"><label>邮政编码</label><input type="text" value="518000"></div>
                    </div>
                    <div class="form-item" style="margin-top:16px"><label>地址行1 <span class="required">*</span></label><input type="text" value="南山区科技园南路88号"></div>
                    <div class="form-item"><label>地址行2</label><input type="text" value="物流园A栋1-3层"></div>
                </div>
                <div class="form-section">
                    <h4>联系信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>联系人</label><input type="text" value="张经理"></div>
                        <div class="form-item"><label>联系电话</label><input type="text" value="13800138001"></div>
                        <div class="form-item"><label>分机号</label><input type="text" value="8001"></div>
                        <div class="form-item"><label>邮箱</label><input type="email" value="sz-wh@example.com"></div>
                        <div class="form-item"><label>传真</label><input type="text" value="0755-12345678"></div>
                    </div>
                </div>
                <div class="form-section">
                    <h4>其他信息</h4>
                    <div class="form-grid">
                        <div class="form-item"><label>门店编号</label><input type="text" placeholder="请输入门店编号（如适用）"></div>
                    </div>
                    <div class="form-item" style="margin-top:16px"><label>备注</label><textarea>深圳主仓库，24小时运营</textarea></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="showPage('address-list')">保存</button>
                    <button type="button" class="btn" onclick="showPage('address-list')">取消</button>
                </div>
            </form>
        `
    },
    'address-detail': {
        breadcrumb: '主数据管理 / 地址管理 / 地址详情',
        content: `
            <div class="page-header">
                <h3>地址详情 - 深圳总仓</h3>
                <div><button class="btn" onclick="showPage('address-edit')">编辑</button> <button class="btn btn-danger">删除</button></div>
            </div>
            <div class="detail-section">
                <h4>基本信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>地址 ID</label><span>1001</span></div>
                    <div class="detail-item"><label>地址名称</label><span>深圳总仓</span></div>
                    <div class="detail-item"><label>简称</label><span>SZ-WH</span></div>
                    <div class="detail-item"><label>关联组织</label><span>ORG-002 - 深圳分公司</span></div>
                    <div class="detail-item"><label>标签</label><span><span class="tag tag-blue">仓库</span> <span class="tag tag-green">收货地址</span> <span class="tag tag-green">发货地址</span></span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>地址信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>国家</label><span>中国</span></div>
                    <div class="detail-item"><label>省/州</label><span>广东省</span></div>
                    <div class="detail-item"><label>城市</label><span>深圳市</span></div>
                    <div class="detail-item"><label>邮政编码</label><span>518000</span></div>
                    <div class="detail-item"><label>地址行1</label><span>南山区科技园南路88号</span></div>
                    <div class="detail-item"><label>地址行2</label><span>物流园A栋1-3层</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>联系信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>联系人</label><span>张经理</span></div>
                    <div class="detail-item"><label>联系电话</label><span>13800138001</span></div>
                    <div class="detail-item"><label>分机号</label><span>8001</span></div>
                    <div class="detail-item"><label>邮箱</label><span>sz-wh@example.com</span></div>
                    <div class="detail-item"><label>传真</label><span>0755-12345678</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>其他信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>门店编号</label><span>-</span></div>
                    <div class="detail-item"><label>备注</label><span>深圳主仓库，24小时运营</span></div>
                </div>
            </div>
            <div class="detail-section">
                <h4>审计信息</h4>
                <div class="detail-grid">
                    <div class="detail-item"><label>创建时间</label><span>2026-01-01 10:00:00</span></div>
                    <div class="detail-item"><label>创建人</label><span>admin</span></div>
                    <div class="detail-item"><label>更新时间</label><span>2026-01-05 14:30:00</span></div>
                    <div class="detail-item"><label>更新人</label><span>admin</span></div>
                </div>
            </div>
        `
    }
};

// Initialize menu
function initMenu() {
    const menuList = document.getElementById('menu-list');
    menuConfig.forEach(menu => {
        menu.children.forEach(child => {
            const li = document.createElement('li');
            li.textContent = child.name;
            li.setAttribute('data-page', child.id);
            li.onclick = () => showPage(child.id);
            menuList.appendChild(li);
        });
    });
}

// Show page
function showPage(pageId) {
    const page = pages[pageId];
    if (!page) return;
    
    document.querySelectorAll('.sidebar li').forEach(li => li.classList.remove('active'));
    document.querySelector(`.sidebar li[data-page="${pageId}"]`)?.classList.add('active');
    document.getElementById('breadcrumb').textContent = page.breadcrumb;
    document.getElementById('page-container').innerHTML = page.content;
}

// Show modal
function showModal(modalId) {
    document.getElementById(modalId)?.classList.add('show');
}

// Hide modal
function hideModal(modalId) {
    document.getElementById(modalId)?.classList.remove('show');
}

// Toggle template options based on type
function toggleTemplateOptions() {
    const type = document.getElementById('template-type')?.value;
    const optionsContainer = document.getElementById('template-options-container');
    const uomContainer = document.getElementById('template-uom-container');
    if (optionsContainer) optionsContainer.style.display = type === 'SELECT' ? 'block' : 'none';
    if (uomContainer) uomContainer.style.display = type === 'NUMBER' ? 'block' : 'none';
}

// Toggle kitting tab
function toggleKittingTab() {
    const checked = document.getElementById('kitting-switch')?.checked;
    const tab = document.getElementById('kitting-tab');
    if (tab) tab.style.display = checked ? 'inline-block' : 'none';
}

// Toggle base uom fields
function toggleBaseUomFields() {
    const checked = document.getElementById('base-uom-switch')?.checked;
    const fields = document.getElementById('non-base-uom-fields');
    if (fields) fields.style.display = checked ? 'none' : 'block';
}

// Toggle hazard select
function toggleHazardSelect() {
    const checked = document.getElementById('hazard-switch')?.checked;
    const container = document.getElementById('hazard-select-container');
    if (container) container.style.display = checked ? 'block' : 'none';
}

// Toggle lot fields
function toggleLotFields() {
    // Can add logic to enable/disable lot related fields
}

// Load industry properties
function loadIndustryProperties() {
    const industry = document.getElementById('industry-select')?.value;
    const hint = document.getElementById('no-industry-hint');
    const props = document.getElementById('industry-properties');
    const propertyTab = document.getElementById('property-tab');
    if (hint && props) {
        hint.style.display = industry ? 'none' : 'block';
        props.style.display = industry ? 'block' : 'none';
    }
    if (propertyTab) {
        propertyTab.style.display = industry ? 'inline-block' : 'none';
    }
}

// Show item tab
function showItemTab(tabId) {
    document.querySelectorAll('#item-tabs .tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById('tab-' + tabId)?.classList.add('active');
}

// Show detail tab
function showDetailTab(tabId) {
    document.querySelectorAll('.tabs .tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById(tabId)?.classList.add('active');
}

// Handle file upload
function handleFileUpload(input) {
    const file = input.files[0];
    if (file) {
        document.getElementById('file-info').style.display = 'block';
        document.getElementById('file-name').textContent = file.name + ' (' + (file.size / 1024).toFixed(1) + ' KB)';
        document.getElementById('preview-section').style.display = 'block';
        document.getElementById('row-count').textContent = '5';
        document.getElementById('upload-area').style.borderColor = 'var(--success-color)';
    }
}

// Clear file
function clearFile() {
    document.getElementById('file-input').value = '';
    document.getElementById('file-info').style.display = 'none';
    document.getElementById('preview-section').style.display = 'none';
    document.getElementById('result-section').style.display = 'none';
    document.getElementById('upload-area').style.borderColor = 'var(--border-color)';
}

// Execute import
function executeImport() {
    document.getElementById('preview-section').style.display = 'none';
    document.getElementById('result-section').style.display = 'block';
}

// Reset import
function resetImport() {
    clearFile();
    document.getElementById('result-section').style.display = 'none';
}

// Initialize
initMenu();
showPage('item-list');
</script>
