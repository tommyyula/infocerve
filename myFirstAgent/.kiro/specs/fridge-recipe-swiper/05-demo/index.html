<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fridge Recipe Swiper - åŸå‹æ¼”ç¤º</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .app-container {
      width: 100%;
      max-width: 400px;
      height: 100vh;
      max-height: 800px;
      background: #f5f5f5;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 25px 50px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .header {
      background: white;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #eee;
    }

    .header h1 {
      font-size: 18px;
      color: #333;
    }

    .header .favorites-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
    }

    /* Screen Container */
    .screen {
      flex: 1;
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .screen.active {
      display: flex;
    }

    /* Upload Screen */
    .upload-screen {
      padding: 40px 20px;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .upload-area {
      width: 100%;
      max-width: 300px;
      aspect-ratio: 1;
      border: 3px dashed #ccc;
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      background: white;
    }

    .upload-area:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .upload-area.has-image {
      border: none;
      padding: 0;
    }

    .upload-area img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 20px;
    }

    .upload-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }

    .upload-text {
      color: #666;
      font-size: 16px;
    }

    .upload-btn {
      margin-top: 24px;
      padding: 16px 48px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .upload-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
    }

    .upload-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Ingredients Screen */
    .ingredients-screen {
      padding: 20px;
    }

    .ingredients-screen h2 {
      font-size: 20px;
      margin-bottom: 8px;
      color: #333;
    }

    .ingredients-screen p {
      color: #666;
      margin-bottom: 20px;
      font-size: 14px;
    }

    .ingredients-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .ingredient-tag {
      background: white;
      padding: 10px 16px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .ingredient-tag .remove {
      background: #ff6b6b;
      color: white;
      border: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 12px;
    }

    .add-ingredient {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .add-ingredient input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid #eee;
      border-radius: 10px;
      font-size: 16px;
    }

    .add-ingredient button {
      padding: 12px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .generate-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 15px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      margin-top: auto;
    }

    /* Loading Screen */
    .loading-screen {
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 40px;
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid #eee;
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      color: #333;
    }

    /* Swipe Screen */
    .swipe-screen {
      padding: 20px;
      position: relative;
    }

    .cards-container {
      flex: 1;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .recipe-card {
      position: absolute;
      width: 100%;
      max-width: 340px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      overflow: hidden;
      cursor: grab;
      transition: transform 0.3s, opacity 0.3s;
    }

    .recipe-card:active {
      cursor: grabbing;
    }

    .recipe-card.swiping-left {
      transform: translateX(-150%) rotate(-30deg);
      opacity: 0;
    }

    .recipe-card.swiping-right {
      transform: translateX(150%) rotate(30deg);
      opacity: 0;
    }

    .card-image {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
    }

    .card-content {
      padding: 20px;
    }

    .card-content h3 {
      font-size: 22px;
      margin-bottom: 8px;
      color: #333;
    }

    .card-meta {
      display: flex;
      gap: 16px;
      margin-bottom: 12px;
      color: #666;
      font-size: 14px;
    }

    .card-description {
      color: #666;
      font-size: 14px;
      line-height: 1.5;
    }

    .swipe-buttons {
      display: flex;
      justify-content: center;
      gap: 40px;
      padding: 20px;
    }

    .swipe-btn {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      border: none;
      font-size: 32px;
      cursor: pointer;
      transition: transform 0.2s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .swipe-btn:hover {
      transform: scale(1.1);
    }

    .swipe-btn.skip {
      background: white;
      color: #ff6b6b;
    }

    .swipe-btn.like {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
    }

    /* Result Screen */
    .result-screen {
      padding: 20px;
      overflow-y: auto;
    }

    .result-screen h2 {
      font-size: 22px;
      margin-bottom: 8px;
      color: #333;
    }

    .result-screen p {
      color: #666;
      margin-bottom: 20px;
    }

    .result-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .result-item {
      background: white;
      border-radius: 15px;
      padding: 16px;
      display: flex;
      gap: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      cursor: pointer;
    }

    .result-item-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    .result-item-info h4 {
      font-size: 16px;
      margin-bottom: 4px;
    }

    .result-item-info span {
      font-size: 13px;
      color: #666;
    }

    .restart-btn {
      margin-top: 20px;
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 15px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }

    /* Detail Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      width: 90%;
      max-width: 400px;
      max-height: 80vh;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      padding: 30px 20px;
      text-align: center;
      position: relative;
    }

    .modal-header h3 {
      color: white;
      font-size: 24px;
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255,255,255,0.3);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      cursor: pointer;
    }

    .modal-body {
      padding: 20px;
      overflow-y: auto;
    }

    .modal-section {
      margin-bottom: 20px;
    }

    .modal-section h4 {
      font-size: 16px;
      color: #333;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .modal-section ul {
      list-style: none;
      padding-left: 0;
    }

    .modal-section li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      color: #666;
    }

    .modal-section li:last-child {
      border-bottom: none;
    }

    .step-number {
      display: inline-block;
      width: 24px;
      height: 24px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 24px;
      font-size: 12px;
      margin-right: 10px;
    }

    /* Responsive */
    @media (max-width: 420px) {
      .app-container {
        border-radius: 0;
        max-height: none;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <h1>ğŸ³ å†°ç®±é£Ÿè°±</h1>
      <button class="favorites-btn" onclick="showFavorites()">â¤ï¸</button>
    </header>

    <!-- Screen 1: Upload -->
    <div id="upload-screen" class="screen upload-screen active">
      <div class="upload-area" id="upload-area" onclick="simulateUpload()">
        <div class="upload-icon">ğŸ“·</div>
        <div class="upload-text">ç‚¹å‡»ä¸Šä¼ å†°ç®±é£Ÿæç…§ç‰‡</div>
      </div>
      <button class="upload-btn" id="analyze-btn" disabled onclick="analyzeImage()">
        å¼€å§‹è¯†åˆ«é£Ÿæ
      </button>
    </div>

    <!-- Screen 2: Ingredients -->
    <div id="ingredients-screen" class="screen ingredients-screen">
      <h2>è¯†åˆ«ç»“æœ</h2>
      <p>AI å·²è¯†åˆ«ä»¥ä¸‹é£Ÿæï¼Œå¯æ‰‹åŠ¨è°ƒæ•´</p>
      <div class="ingredients-list" id="ingredients-list"></div>
      <div class="add-ingredient">
        <input type="text" id="new-ingredient" placeholder="æ·»åŠ å…¶ä»–é£Ÿæ...">
        <button onclick="addIngredient()">æ·»åŠ </button>
      </div>
      <button class="generate-btn" onclick="generateRecipes()">
        ç”Ÿæˆé£Ÿè°±æ¨è âœ¨
      </button>
    </div>

    <!-- Screen 3: Loading -->
    <div id="loading-screen" class="screen loading-screen">
      <div class="spinner"></div>
      <div class="loading-text" id="loading-text">æ­£åœ¨è¯†åˆ«é£Ÿæ...</div>
    </div>

    <!-- Screen 4: Swipe -->
    <div id="swipe-screen" class="screen swipe-screen">
      <div class="cards-container" id="cards-container"></div>
      <div class="swipe-buttons">
        <button class="swipe-btn skip" onclick="swipeCard('left')">âœ•</button>
        <button class="swipe-btn like" onclick="swipeCard('right')">â¤ï¸</button>
      </div>
    </div>

    <!-- Screen 5: Results -->
    <div id="result-screen" class="screen result-screen">
      <h2>ğŸ‰ é€‰æ‹©å®Œæˆï¼</h2>
      <p>ä½ æ”¶è—äº†ä»¥ä¸‹é£Ÿè°±ï¼š</p>
      <div class="result-list" id="result-list"></div>
      <button class="restart-btn" onclick="restart()">é‡æ–°å¼€å§‹</button>
    </div>
  </div>

  <!-- Detail Modal -->
  <div class="modal" id="detail-modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="modal-close" onclick="closeModal()">Ã—</button>
        <h3 id="modal-title">ç•ªèŒ„ç‚’è›‹</h3>
      </div>
      <div class="modal-body">
        <div class="modal-section">
          <h4>â±ï¸ çƒ¹é¥ªæ—¶é—´ï¼š<span id="modal-time">15åˆ†é’Ÿ</span></h4>
        </div>
        <div class="modal-section">
          <h4>ğŸ¥¬ æ‰€éœ€é£Ÿæ</h4>
          <ul id="modal-ingredients"></ul>
        </div>
        <div class="modal-section">
          <h4>ğŸ‘¨â€ğŸ³ çƒ¹é¥ªæ­¥éª¤</h4>
          <ul id="modal-steps"></ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Mock Data
    const mockIngredients = ['ç•ªèŒ„', 'é¸¡è›‹', 'é’æ¤’', 'æ´‹è‘±', 'å¤§è’œ', 'ç”Ÿå§œ'];

    const mockRecipes = [
      {
        id: '1',
        name: 'ç•ªèŒ„ç‚’è›‹',
        emoji: 'ğŸ³',
        time: 15,
        difficulty: 'ç®€å•',
        description: 'ç»å…¸å®¶å¸¸èœï¼Œé…¸ç”œå¯å£ï¼Œè¥å…»ä¸°å¯Œ',
        ingredients: ['ç•ªèŒ„ 2ä¸ª', 'é¸¡è›‹ 3ä¸ª', 'ç› é€‚é‡', 'ç³– å°‘è®¸', 'è‘±èŠ± é€‚é‡'],
        steps: ['ç•ªèŒ„åˆ‡å—ï¼Œé¸¡è›‹æ‰“æ•£åŠ å°‘è®¸ç›', 'çƒ­é”…å†·æ²¹ï¼Œå€’å…¥è›‹æ¶²ç‚’è‡³å‡å›ºç››å‡º', 'é”…ä¸­åŠ æ²¹ï¼Œæ”¾å…¥ç•ªèŒ„ç¿»ç‚’å‡ºæ±', 'åŠ å…¥ç‚’å¥½çš„é¸¡è›‹ï¼ŒåŠ ç›å’Œç³–è°ƒå‘³', 'æ’’ä¸Šè‘±èŠ±å³å¯å‡ºé”…']
      },
      {
        id: '2',
        name: 'é’æ¤’ç‚’è›‹',
        emoji: 'ğŸ¥š',
        time: 12,
        difficulty: 'ç®€å•',
        description: 'æ¸…çˆ½ä¸‹é¥­ï¼Œç®€å•å¿«æ‰‹',
        ingredients: ['é’æ¤’ 2ä¸ª', 'é¸¡è›‹ 3ä¸ª', 'ç› é€‚é‡', 'æ–™é…’ å°‘è®¸'],
        steps: ['é’æ¤’åˆ‡ä¸ï¼Œé¸¡è›‹æ‰“æ•£', 'çƒ­é”…ä¸‹æ²¹ï¼Œç‚’æ•£é¸¡è›‹ç››å‡º', 'é’æ¤’ä¸ä¸‹é”…ç¿»ç‚’è‡³æ–­ç”Ÿ', 'å€’å…¥é¸¡è›‹ï¼ŒåŠ ç›è°ƒå‘³', 'ç¿»ç‚’å‡åŒ€å³å¯']
      },
      {
        id: '3',
        name: 'æ´‹è‘±ç‚’è›‹',
        emoji: 'ğŸ§…',
        time: 10,
        difficulty: 'ç®€å•',
        description: 'æ´‹è‘±çš„ç”œå‘³ä¸é¸¡è›‹å®Œç¾ç»“åˆ',
        ingredients: ['æ´‹è‘± 1ä¸ª', 'é¸¡è›‹ 3ä¸ª', 'ç› é€‚é‡', 'èƒ¡æ¤’ç²‰ å°‘è®¸'],
        steps: ['æ´‹è‘±åˆ‡ä¸ï¼Œé¸¡è›‹æ‰“æ•£', 'çƒ­é”…ä¸‹æ²¹ï¼Œç‚’é¦™æ´‹è‘±', 'å€’å…¥è›‹æ¶²ï¼Œè½»è½»ç¿»ç‚’', 'åŠ ç›å’Œèƒ¡æ¤’ç²‰è°ƒå‘³', 'ç‚’è‡³é¸¡è›‹å‡å›ºå³å¯']
      },
      {
        id: '4',
        name: 'ç•ªèŒ„è›‹æ±¤',
        emoji: 'ğŸ²',
        time: 20,
        difficulty: 'ç®€å•',
        description: 'å¼€èƒƒæš–èº«ï¼Œè€å°‘çš†å®œ',
        ingredients: ['ç•ªèŒ„ 2ä¸ª', 'é¸¡è›‹ 2ä¸ª', 'è‘±èŠ± é€‚é‡', 'ç› é€‚é‡', 'é¦™æ²¹ å°‘è®¸'],
        steps: ['ç•ªèŒ„åˆ‡å—ï¼Œé¸¡è›‹æ‰“æ•£', 'é”…ä¸­åŠ æ°´çƒ§å¼€ï¼Œæ”¾å…¥ç•ªèŒ„', 'ç…®è‡³ç•ªèŒ„è½¯çƒ‚å‡ºæ±', 'æ·‹å…¥è›‹æ¶²ï¼Œè½»è½»æ…åŠ¨', 'åŠ ç›è°ƒå‘³ï¼Œæ’’è‘±èŠ±æ·‹é¦™æ²¹']
      },
      {
        id: '5',
        name: 'è’œè“‰ç‚’é’æ¤’',
        emoji: 'ğŸŒ¶ï¸',
        time: 8,
        difficulty: 'ç®€å•',
        description: 'è’œé¦™å››æº¢ï¼Œæ¸…è„†çˆ½å£',
        ingredients: ['é’æ¤’ 3ä¸ª', 'å¤§è’œ 5ç“£', 'ç› é€‚é‡', 'ç”ŸæŠ½ å°‘è®¸'],
        steps: ['é’æ¤’åˆ‡å—ï¼Œå¤§è’œåˆ‡æœ«', 'çƒ­é”…ä¸‹æ²¹ï¼Œçˆ†é¦™è’œæœ«', 'æ”¾å…¥é’æ¤’å¤§ç«ç¿»ç‚’', 'åŠ ç›å’Œç”ŸæŠ½è°ƒå‘³', 'ç‚’è‡³é’æ¤’æ–­ç”Ÿå³å¯']
      }
    ];

    let currentIngredients = [];
    let currentRecipes = [];
    let currentCardIndex = 0;
    let favorites = [];

    // Screen Navigation
    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
    }

    // Upload Simulation
    function simulateUpload() {
      const uploadArea = document.getElementById('upload-area');
      uploadArea.innerHTML = '<img src="https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400" alt="å†°ç®±é£Ÿæ">';
      uploadArea.classList.add('has-image');
      document.getElementById('analyze-btn').disabled = false;
    }

    // Analyze Image
    function analyzeImage() {
      showScreen('loading-screen');
      document.getElementById('loading-text').textContent = 'æ­£åœ¨è¯†åˆ«é£Ÿæ...';

      setTimeout(() => {
        currentIngredients = [...mockIngredients];
        renderIngredients();
        showScreen('ingredients-screen');
      }, 2000);
    }

    // Render Ingredients
    function renderIngredients() {
      const list = document.getElementById('ingredients-list');
      list.innerHTML = currentIngredients.map((ing, i) => `
        <div class="ingredient-tag">
          ${ing}
          <button class="remove" onclick="removeIngredient(${i})">Ã—</button>
        </div>
      `).join('');
    }

    // Remove Ingredient
    function removeIngredient(index) {
      currentIngredients.splice(index, 1);
      renderIngredients();
    }

    // Add Ingredient
    function addIngredient() {
      const input = document.getElementById('new-ingredient');
      if (input.value.trim()) {
        currentIngredients.push(input.value.trim());
        input.value = '';
        renderIngredients();
      }
    }

    // Generate Recipes
    function generateRecipes() {
      showScreen('loading-screen');
      document.getElementById('loading-text').textContent = 'æ­£åœ¨ç”Ÿæˆé£Ÿè°±æ¨è...';

      setTimeout(() => {
        currentRecipes = [...mockRecipes];
        currentCardIndex = 0;
        favorites = [];
        renderCards();
        showScreen('swipe-screen');
      }, 2500);
    }

    // Render Cards
    function renderCards() {
      const container = document.getElementById('cards-container');
      container.innerHTML = currentRecipes.slice(currentCardIndex).reverse().map((recipe, i) => `
        <div class="recipe-card" style="z-index: ${currentRecipes.length - currentCardIndex - i}"
             onclick="showDetail('${recipe.id}')">
          <div class="card-image">${recipe.emoji}</div>
          <div class="card-content">
            <h3>${recipe.name}</h3>
            <div class="card-meta">
              <span>â±ï¸ ${recipe.time}åˆ†é’Ÿ</span>
              <span>ğŸ“Š ${recipe.difficulty}</span>
            </div>
            <p class="card-description">${recipe.description}</p>
          </div>
        </div>
      `).join('');
    }

    // Swipe Card
    function swipeCard(direction) {
      const cards = document.querySelectorAll('.recipe-card');
      if (cards.length === 0) return;

      const topCard = cards[cards.length - 1];
      topCard.classList.add(direction === 'left' ? 'swiping-left' : 'swiping-right');

      if (direction === 'right') {
        favorites.push(currentRecipes[currentCardIndex]);
      }

      setTimeout(() => {
        currentCardIndex++;
        if (currentCardIndex >= currentRecipes.length) {
          showResults();
        } else {
          renderCards();
        }
      }, 300);
    }

    // Show Results
    function showResults() {
      const list = document.getElementById('result-list');
      if (favorites.length === 0) {
        list.innerHTML = '<p style="color: #666; text-align: center;">æ²¡æœ‰æ”¶è—ä»»ä½•é£Ÿè°±</p>';
      } else {
        list.innerHTML = favorites.map(recipe => `
          <div class="result-item" onclick="showDetail('${recipe.id}')">
            <div class="result-item-icon">${recipe.emoji}</div>
            <div class="result-item-info">
              <h4>${recipe.name}</h4>
              <span>â±ï¸ ${recipe.time}åˆ†é’Ÿ Â· ${recipe.difficulty}</span>
            </div>
          </div>
        `).join('');
      }
      showScreen('result-screen');
    }

    // Show Detail Modal
    function showDetail(recipeId) {
      const recipe = currentRecipes.find(r => r.id === recipeId);
      if (!recipe) return;

      document.getElementById('modal-title').textContent = recipe.name;
      document.getElementById('modal-time').textContent = recipe.time + 'åˆ†é’Ÿ';
      document.getElementById('modal-ingredients').innerHTML =
        recipe.ingredients.map(ing => `<li>${ing}</li>`).join('');
      document.getElementById('modal-steps').innerHTML =
        recipe.steps.map((step, i) => `<li><span class="step-number">${i+1}</span>${step}</li>`).join('');

      document.getElementById('detail-modal').classList.add('active');
      event.stopPropagation();
    }

    // Close Modal
    function closeModal() {
      document.getElementById('detail-modal').classList.remove('active');
    }

    // Show Favorites
    function showFavorites() {
      if (favorites.length > 0) {
        showResults();
      } else {
        alert('è¿˜æ²¡æœ‰æ”¶è—çš„é£Ÿè°±');
      }
    }

    // Restart
    function restart() {
      const uploadArea = document.getElementById('upload-area');
      uploadArea.innerHTML = `
        <div class="upload-icon">ğŸ“·</div>
        <div class="upload-text">ç‚¹å‡»ä¸Šä¼ å†°ç®±é£Ÿæç…§ç‰‡</div>
      `;
      uploadArea.classList.remove('has-image');
      document.getElementById('analyze-btn').disabled = true;
      currentIngredients = [];
      currentRecipes = [];
      currentCardIndex = 0;
      favorites = [];
      showScreen('upload-screen');
    }

    // Close modal on outside click
    document.getElementById('detail-modal').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });
  </script>
</body>
</html>
