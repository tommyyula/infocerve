# ä¸Šä¼ é¡µé¢è§„æ ¼ (Upload Page)

## é¡µé¢æ¦‚è¿°

ç”¨æˆ·è¿›å…¥åº”ç”¨çš„ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œç”¨äºä¸Šä¼ å†°ç®±é£Ÿæç…§ç‰‡ã€‚

## çº¿æ¡†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ³ å†°ç®±é£Ÿè°±              â¤ï¸   â”‚  â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                         â”‚   â”‚
â”‚   â”‚         ğŸ“·              â”‚   â”‚
â”‚   â”‚                         â”‚   â”‚
â”‚   â”‚   ç‚¹å‡»ä¸Šä¼ å†°ç®±é£Ÿæç…§ç‰‡   â”‚   â”‚  â† UploadArea
â”‚   â”‚                         â”‚   â”‚
â”‚   â”‚   æ”¯æŒæ‹ç…§æˆ–ä»ç›¸å†Œé€‰æ‹©   â”‚   â”‚
â”‚   â”‚                         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚     å¼€å§‹è¯†åˆ«é£Ÿæ         â”‚   â”‚  â† Button (disabled)
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç»„ä»¶ç»“æ„

```
UploadPage
â”œâ”€â”€ UploadArea
â”‚   â”œâ”€â”€ ImagePreview (æ¡ä»¶æ¸²æŸ“)
â”‚   â””â”€â”€ UploadPrompt (æ¡ä»¶æ¸²æŸ“)
â””â”€â”€ Button (å¼€å§‹è¯†åˆ«)
```

## ç»„ä»¶è§„æ ¼

### UploadArea

| å±æ€§ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| onImageSelect | `(file: File) => void` | å›¾ç‰‡é€‰æ‹©å›è°ƒ |
| preview | `string \| null` | é¢„è§ˆå›¾ URL |
| disabled | `boolean` | æ˜¯å¦ç¦ç”¨ |

**è¡Œä¸º**:
- ç‚¹å‡»è§¦å‘æ–‡ä»¶é€‰æ‹©
- æ”¯æŒ accept="image/*"
- æ”¯æŒ capture="environment" (è°ƒç”¨æ‘„åƒå¤´)
- æ‹–æ‹½ä¸Šä¼  (PC)

### Button

| å±æ€§ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| disabled | `boolean` | æœªé€‰æ‹©å›¾ç‰‡æ—¶ç¦ç”¨ |
| onClick | `() => void` | ç‚¹å‡»å›è°ƒ |
| loading | `boolean` | åŠ è½½çŠ¶æ€ |

## çŠ¶æ€

```typescript
// ä» useAppStore è·å–
const imageFile = useAppStore(state => state.imageFile);
const imagePreview = useAppStore(state => state.imagePreview);
const setImage = useAppStore(state => state.setImage);
const setStep = useAppStore(state => state.setStep);
```

## äº¤äº’æµç¨‹

```
1. ç”¨æˆ·ç‚¹å‡»ä¸Šä¼ åŒºåŸŸ
   â†“
2. å¼¹å‡ºé€‰æ‹©ï¼šæ‹ç…§ / ä»ç›¸å†Œé€‰æ‹©
   â†“
3. é€‰æ‹©å›¾ç‰‡åæ˜¾ç¤ºé¢„è§ˆ
   â†“
4. ã€Œå¼€å§‹è¯†åˆ«é£Ÿæã€æŒ‰é’®æ¿€æ´»
   â†“
5. ç‚¹å‡»æŒ‰é’® â†’ è¿›å…¥ Loading â†’ è·³è½¬é£Ÿæé¡µ
```

## äº‹ä»¶å¤„ç†

```typescript
const handleImageSelect = async (file: File) => {
  // å‹ç¼©å›¾ç‰‡ (å¦‚æœ > 5MB)
  const compressed = await compressImage(file);
  const preview = URL.createObjectURL(compressed);
  setImage(compressed, preview);
};

const handleAnalyze = async () => {
  setStep('loading');
  try {
    const url = await uploadImage(imageFile);
    const ingredients = await recognizeIngredients(url);
    setIngredients(ingredients);
    setStep('ingredients');
  } catch (error) {
    // é”™è¯¯å¤„ç†
    setStep('upload');
  }
};
```

## æ ·å¼è¦ç‚¹

- ä¸Šä¼ åŒºåŸŸï¼šè™šçº¿è¾¹æ¡†ï¼Œåœ†è§’ 20px
- Hover æ•ˆæœï¼šè¾¹æ¡†å˜è‰²ï¼ŒèƒŒæ™¯å˜æµ…ç´«
- æŒ‰é’®ï¼šæ¸å˜ç´«è‰²ï¼Œç¦ç”¨æ—¶åŠé€æ˜
- å›¾ç‰‡é¢„è§ˆï¼šå¡«æ»¡ä¸Šä¼ åŒºåŸŸï¼Œåœ†è§’è£å‰ª
